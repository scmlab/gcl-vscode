// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Json = require("@glennsl/bs-json/lib/js/src/Json.bs.js");
var Belt_Array = require("rescript/lib/js/belt_Array.js");
var Belt_Option = require("rescript/lib/js/belt_Option.js");
var Source$LanguageServerMule = require("language-server-mule/lib/js/src/Source.bs.js");

function toString(error) {
  switch (error.TAG | 0) {
    case /* CannotAcquireHandle */0 :
        return [
                "Cannot connect with \"gcl\"",
                "Here are the error messages from all the attempts: \n" + Belt_Array.map(error._0, Source$LanguageServerMule.$$Error.toString).join("\n")
              ];
    case /* ConnectionError */1 :
        var exn = error._0;
        var isECONNREFUSED = Belt_Option.mapWithDefault(exn.message, false, (function (param) {
                return param.startsWith("connect ECONNREFUSED");
              }));
        if (isECONNREFUSED) {
          return [
                  "LSP Connection Error",
                  "Please enter \":main -d\" in ghci"
                ];
        } else {
          return [
                  "LSP Client Error",
                  Belt_Option.getWithDefault(exn.message, "")
                ];
        }
    case /* CannotDecodeResponse */2 :
        return [
                "PANIC: Cannot decode response",
                "Please file an issue\n\n" + error._0 + "\n" + Json.stringify(error._1)
              ];
    
  }
}

exports.toString = toString;
/* Source-LanguageServerMule Not a pure module */
