// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Belt_Array = require("rescript/lib/js/belt_Array.js");
var Json_decode = require("@glennsl/bs-json/lib/js/src/Json_decode.bs.js");
var Util$Guabao = require("./Util/Util.bs.js");
var SrcLoc$Guabao = require("./SrcLoc.bs.js");
var Element$Guabao = require("./View/Element.bs.js");

function destroy(self) {
  return Belt_Array.forEach(self.decorations, (function (prim) {
                prim.dispose();
                
              }));
}

function decode(param) {
  return Json_decode.map((function (param) {
                return {
                        id: param[0],
                        pre: param[1],
                        post: param[2],
                        range: param[3],
                        decorations: []
                      };
              }), (function (param) {
                return Json_decode.tuple4(Json_decode.$$int, Json_decode.string, Json_decode.string, SrcLoc$Guabao.$$Range.decode, param);
              }), param);
}

var Specification = {
  destroy: destroy,
  decode: decode
};

var decode$1 = Util$Guabao.Decode.sum(function (x) {
      switch (x) {
        case "ResConsoleLog" :
            return {
                    TAG: 0,
                    _0: (function (param) {
                        return Json_decode.map((function (i) {
                                      return {
                                              TAG: 2,
                                              _0: i,
                                              [Symbol.for("name")]: "ConsoleLog"
                                            };
                                    }), Json_decode.string, param);
                      }),
                    [Symbol.for("name")]: "Contents"
                  };
        case "ResDisplay" :
            return {
                    TAG: 0,
                    _0: (function (param) {
                        return Json_decode.map((function (param) {
                                      return {
                                              TAG: 0,
                                              _0: param[0],
                                              _1: param[1],
                                              [Symbol.for("name")]: "Display"
                                            };
                                    }), (function (param) {
                                      return Json_decode.tuple2(Json_decode.$$int, (function (param) {
                                                    return Json_decode.array(Element$Guabao.Block.decode, param);
                                                  }), param);
                                    }), param);
                      }),
                    [Symbol.for("name")]: "Contents"
                  };
        case "ResUpdateSpecs" :
            return {
                    TAG: 0,
                    _0: (function (param) {
                        return Json_decode.map((function (specs) {
                                      return {
                                              TAG: 1,
                                              _0: specs,
                                              [Symbol.for("name")]: "UpdateSpecs"
                                            };
                                    }), (function (param) {
                                      return Json_decode.array(decode, param);
                                    }), param);
                      }),
                    [Symbol.for("name")]: "Contents"
                  };
        default:
          throw {
                RE_EXN_ID: Json_decode.DecodeError,
                _1: "Unknown constructor: " + x,
                Error: new Error()
              };
      }
    });

var Kind = {
  decode: decode$1
};

var decode$2 = Util$Guabao.Decode.sum(function (x) {
      switch (x) {
        case "CannotDecodeRequest" :
            return {
                    TAG: 0,
                    _0: (function (param) {
                        return Json_decode.map((function (msg) {
                                      return {
                                              TAG: 2,
                                              _0: msg,
                                              [Symbol.for("name")]: "CannotDecodeRequest"
                                            };
                                    }), Json_decode.string, param);
                      }),
                    [Symbol.for("name")]: "Contents"
                  };
        case "Res" :
            return {
                    TAG: 0,
                    _0: (function (param) {
                        return Json_decode.map((function (param) {
                                      return {
                                              TAG: 0,
                                              _0: param[0],
                                              _1: param[1],
                                              [Symbol.for("name")]: "Res"
                                            };
                                    }), (function (param) {
                                      return Json_decode.pair(Json_decode.string, (function (param) {
                                                    return Json_decode.array(decode$1, param);
                                                  }), param);
                                    }), param);
                      }),
                    [Symbol.for("name")]: "Contents"
                  };
        default:
          throw {
                RE_EXN_ID: Json_decode.DecodeError,
                _1: "Unknown constructor: " + x,
                Error: new Error()
              };
      }
    });

exports.Specification = Specification;
exports.Kind = Kind;
exports.decode = decode$2;
/* decode Not a pure module */
