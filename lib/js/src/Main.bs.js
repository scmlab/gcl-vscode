// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var Vscode = require("vscode");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");
var State$Guacamole = require("./State.bs.js");
var Registry$Guacamole = require("./Registry.bs.js");

function onOpen(doc) {
  var fileName = doc.fileName;
  var partial_arg = /\.gcl$/i;
  var isGCL = function (param) {
    return partial_arg.test(param);
  };
  if (!Curry._1(isGCL, fileName)) {
    return ;
  }
  console.log("GCL " + fileName);
  var state = State$Guacamole.make(undefined);
  return Registry$Guacamole.add(fileName, state);
}

var Handler = {
  onOpen: onOpen
};

function activate(context) {
  context.subscriptions.push(Vscode.workspace.onDidOpenTextDocument(onOpen));
  return Belt_Array.forEach(Vscode.workspace.textDocuments, onOpen);
}

function deactivate(param) {
  
}

exports.Handler = Handler;
exports.activate = activate;
exports.deactivate = deactivate;
/* vscode Not a pure module */
