// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var VSCode = require("bs-vscode/lib/js/src/VSCode.bs.js");
var Vscode = require("vscode");
var LSP$Guacamole = require("./LSP.bs.js");
var VscodeLanguageclient = require("vscode-languageclient");

function make(param) {
  var setupLSPClient = function (param) {
    var serverOptions = LSP$Guacamole.ServerOptions.makeCommand("lsp-demo-reactor-server");
    var documentSelector = [VSCode.DocumentFilterOrString.documentFilter({
            language: "guacamole",
            pattern: undefined,
            scheme: "file"
          })];
    var synchronize = Vscode.workspace.createFileSystemWatcher('**/.clientrc', false, false, false);
    var clientOptions = LSP$Guacamole.LanguageClientOptions.make(documentSelector, synchronize);
    return new VscodeLanguageclient.LanguageClient("guacamoleLanguageServer", "Guacamole Language Server", serverOptions, clientOptions);
  };
  var client = setupLSPClient(undefined);
  client.start();
  return {
          client: client
        };
}

function destroy(state) {
  state.client.stop();
  
}

exports.make = make;
exports.destroy = destroy;
/* VSCode Not a pure module */
